{"version":3,"file":"static/js/893.19b28a56.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Button/button.module.scss?3bf9","components/Button/Button.jsx","components/Error/Error.jsx","components/MoviesList/MoviesList.jsx","components/SearchBox/searchbox.module.scss","components/SearchBox/SearchBox.jsx","pages/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__zpxkc\"};","import css from './button.module.scss';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick, text }) => <button className={css.button} onClick={onClick}>{text}</button>;\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    text: PropTypes.string,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\n\nconst Error = text => <p>{text}</p>;\n\nexport default Error;\n\nError.propTypes = {\n    text: PropTypes.string,\n}\n","import { memo } from \"react\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport defaultPoster from '../../images/defaultPoster.jpg'\n\nconst MoviesList = ({ items }) => {\n    const location = useLocation();\n\n    const movies = items.map(({ id, poster_path, title, release_date }) => {\n        const year = release_date.slice(0, 4);\n        return (\n          <Link key={id} to={`/movies/${id}`} state={{ from: location }}>\n            <li>\n              <img\n                loading=\"lazy\"\n                src={\n                  poster_path\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                    : defaultPoster\n                }\n                alt={title}\n              />\n              <h2>\n        {title} ({year})\n              </h2>\n            </li>\n          </Link>\n        );});\n    \n    return (\n        <ul>\n            {movies}\n        </ul>\n    );\n}\n\nexport default memo(MoviesList);\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.object).isRequired,\n  id: PropTypes.string,\n  poster_path: PropTypes.string,\n  title: PropTypes.string,\n  release_date: PropTypes.string,\n};","// extracted by mini-css-extract-plugin\nexport default {};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { IoIosSearch } from 'react-icons/io';\nimport css from './searchbox.module.scss';\n\nexport default function SearchBox({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = ({ target }) => {\n    setQuery(target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (query.trim() === '') {\n        toast.warning('Enter the title of the film to continue searching');\n        return;\n    }\n\n    onSubmit({ query });\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.input}\n        type=\"text\"\n        placeholder=\"Search movies\"\n        value={query}\n        onChange={handleChange}\n      />\n      <button type=\"submit\" className={css.button}>\n        <IoIosSearch className={css.icon} />\n      </button>\n    </form>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { searchMovies } from \"services/api\";\nimport { toast } from 'react-toastify';\nimport Error from 'components/Error';\nimport Loader from 'components/Loader';\nimport SearchBox from \"components/SearchBox\";\nimport MoviesList from \"components/MoviesList\";\nimport Button from \"components/Button\";\n\nconst Movies = () => {\n    const [query, setQuery] = useState('');\n    const [items, setItems] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [page, setPage] = useState(1);\n    \n    useEffect(() => {\n        if (!query) return;\n        const fetchMovies = async () => {\n            try {\n                setLoading(true);\n                const { results } = await searchMovies(query, page);\n                if (results.length === 0) {\n                    toast.error(\n                        'Sorry, there are no movies matching your search query. Please try again.'\n                    );\n                }\n                setItems(prevItems => ([...prevItems, ...results]));\n            } catch (error) {\n                setError(error.message);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchMovies();\n    }, [query, page, setError, setLoading, setItems]);\n\n    const onSearch = ({query}) => {\n        setQuery(query);\n        setItems([]);\n        setPage(1);\n    }\n\n    const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n    };\n\n    return (\n        <main>\n            <SearchBox onSubmit={onSearch} />\n            {error && <Error text={error} />}\n            {loading ? <Loader /> : <MoviesList items={items} />}\n            {!(items.length < 12) && (\n            <Button onClick={onLoadMore} text={'Load more'} />\n            )}\n        </main>\n    );\n}\n\nexport default Movies;","import axios from \"axios\";\n\nconst API_KEY = 'ccd8d539caa8bbfd0843a00859c1dd02';\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    params: {\n        api_key: API_KEY,\n    }\n});\n\nexport const getTrending = async () => {\n    const { data } = await instance.get(\"/trending/movie/day\");  \n    return data;\n}\n\nexport const searchMovies = async (query,page = 1, include_adult = false) => {\n    const { data } = await instance.get(\"/search/movie\", {\n        params: {\n            query,\n            page,\n            include_adult,\n        }\n    }); \n    return data;\n}\n\n\nexport const getDetails = async (id) => {\n    const { data } = await instance.get(`/movie/${id}`);  \n    return data;\n}\n\nexport const getCredits = async (id) => {\n    const { data } = await instance.get(`/movie/${id}/credits`);  \n    return data;\n}\n\nexport const getReviews = async (id, page = 1) => {\n    const { data } = await instance.get(`/movie/${id}/reviews`, {\n        params: {\n            page,\n        }\n    });  \n    return data;\n}"],"names":["onClick","text","className","css","MoviesList","items","location","useLocation","movies","map","id","poster_path","title","year","release_date","slice","to","state","from","loading","src","defaultPoster","alt","memo","SearchBox","onSubmit","useState","query","setQuery","e","preventDefault","trim","toast","type","placeholder","value","onChange","target","setItems","setLoading","error","setError","page","setPage","useEffect","fetchMovies","searchMovies","results","length","prevItems","message","Error","Loader","Button","prevPage","instance","axios","baseURL","params","api_key","getTrending","get","data","include_adult","getDetails","getCredits","getReviews"],"sourceRoot":""}